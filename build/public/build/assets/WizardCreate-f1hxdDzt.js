import{j as e,r as h,x as Se,Q as Ce}from"./app-DQ50vfdB.js";import{c as B,m as A,n as U,p as H,s as C,q as D,W as ye,t as F,x as Q,y as de,X,M as ke,C as N,a as $,T as f,B as R,h as ue,b as M,Y as Le,L as xe,e as Y,g as Z,f as ee,A as we,Z as ie,_ as le,z as J,r as Pe}from"./MaterialLayout-ChKCvITY.js";import{m as q}from"./proxy-Bnqo7GU3.js";import{L as ce,C as me,G as g,a as Me}from"./LinearProgress-CbU3kU37.js";import{c as I}from"./index-epZWharM.js";import{A as oe,T}from"./TextField-D9E1UKik.js";import"./index-OSMIWnHG.js";const he=B(e.jsx("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4"})),re=B(e.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"})),G=B(e.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"})),_e=B(e.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"})),Re=B(e.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"})),V=h.createContext({}),te=h.createContext({});function Te(t){return A("MuiStep",t)}U("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);const Ie=t=>{const{classes:n,orientation:a,alternativeLabel:r,completed:o}=t;return D({root:["root",a,r&&"alternativeLabel",o&&"completed"]},Te,n)},Be=C("div",{name:"MuiStep",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:a}=t;return[n.root,n[a.orientation],a.alternativeLabel&&n.alternativeLabel,a.completed&&n.completed]}})({variants:[{props:{orientation:"horizontal"},style:{paddingLeft:8,paddingRight:8}},{props:{alternativeLabel:!0},style:{flex:1,position:"relative"}}]}),ze=h.forwardRef(function(n,a){const r=H({props:n,name:"MuiStep"}),{active:o,children:l,className:c,component:d="div",completed:x,disabled:m,expanded:i=!1,index:u,last:s,...b}=r,{activeStep:j,connector:p,alternativeLabel:v,orientation:L,nonLinear:y}=h.useContext(V);let[S=!1,P=!1,k=!1]=[o,x,m];j===u?S=o!==void 0?o:!0:!y&&j>u?P=x!==void 0?x:!0:!y&&j<u&&(k=m!==void 0?m:!0);const K=h.useMemo(()=>({index:u,last:s,expanded:i,icon:u+1,active:S,completed:P,disabled:k}),[u,s,i,S,P,k]),w={...r,active:S,orientation:L,alternativeLabel:v,completed:P,disabled:k,expanded:i,component:d},z=Ie(w),W=e.jsxs(Be,{as:d,className:I(z.root,c),ref:a,ownerState:w,...b,children:[p&&v&&u!==0?p:null,l]});return e.jsx(te.Provider,{value:K,children:p&&!v&&u!==0?e.jsxs(h.Fragment,{children:[p,W]}):W})}),We=B(e.jsx("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"})),Ne=B(e.jsx("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}));function $e(t){return A("MuiStepIcon",t)}const ne=U("MuiStepIcon",["root","active","completed","error","text"]);var pe;const Ae=t=>{const{classes:n,active:a,completed:r,error:o}=t;return D({root:["root",a&&"active",r&&"completed",o&&"error"],text:["text"]},$e,n)},ae=C(ye,{name:"MuiStepIcon",slot:"Root"})(F(({theme:t})=>({display:"block",transition:t.transitions.create("color",{duration:t.transitions.duration.shortest}),color:(t.vars||t).palette.text.disabled,[`&.${ne.completed}`]:{color:(t.vars||t).palette.primary.main},[`&.${ne.active}`]:{color:(t.vars||t).palette.primary.main},[`&.${ne.error}`]:{color:(t.vars||t).palette.error.main}}))),Ue=C("text",{name:"MuiStepIcon",slot:"Text"})(F(({theme:t})=>({fill:(t.vars||t).palette.primary.contrastText,fontSize:t.typography.caption.fontSize,fontFamily:t.typography.fontFamily}))),He=h.forwardRef(function(n,a){const r=H({props:n,name:"MuiStepIcon"}),{active:o=!1,className:l,completed:c=!1,error:d=!1,icon:x,...m}=r,i={...r,active:o,completed:c,error:d},u=Ae(i);if(typeof x=="number"||typeof x=="string"){const s=I(l,u.root);return d?e.jsx(ae,{as:Ne,className:s,ref:a,ownerState:i,...m}):c?e.jsx(ae,{as:We,className:s,ref:a,ownerState:i,...m}):e.jsxs(ae,{className:s,ref:a,ownerState:i,...m,children:[pe||(pe=e.jsx("circle",{cx:"12",cy:"12",r:"12"})),e.jsx(Ue,{className:u.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:i,children:x})]})}return x});function De(t){return A("MuiStepLabel",t)}const _=U("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]),Fe=t=>{const{classes:n,orientation:a,active:r,completed:o,error:l,disabled:c,alternativeLabel:d}=t;return D({root:["root",a,l&&"error",c&&"disabled",d&&"alternativeLabel"],label:["label",r&&"active",o&&"completed",l&&"error",c&&"disabled",d&&"alternativeLabel"],iconContainer:["iconContainer",r&&"active",o&&"completed",l&&"error",c&&"disabled",d&&"alternativeLabel"],labelContainer:["labelContainer",d&&"alternativeLabel"]},De,n)},Ke=C("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:a}=t;return[n.root,n[a.orientation]]}})({display:"flex",alignItems:"center",[`&.${_.alternativeLabel}`]:{flexDirection:"column"},[`&.${_.disabled}`]:{cursor:"default"},variants:[{props:{orientation:"vertical"},style:{textAlign:"left",padding:"8px 0"}}]}),Oe=C("span",{name:"MuiStepLabel",slot:"Label"})(F(({theme:t})=>({...t.typography.body2,display:"block",transition:t.transitions.create("color",{duration:t.transitions.duration.shortest}),[`&.${_.active}`]:{color:(t.vars||t).palette.text.primary,fontWeight:500},[`&.${_.completed}`]:{color:(t.vars||t).palette.text.primary,fontWeight:500},[`&.${_.alternativeLabel}`]:{marginTop:16},[`&.${_.error}`]:{color:(t.vars||t).palette.error.main}}))),Ve=C("span",{name:"MuiStepLabel",slot:"IconContainer"})({flexShrink:0,display:"flex",paddingRight:8,[`&.${_.alternativeLabel}`]:{paddingRight:0}}),Ee=C("span",{name:"MuiStepLabel",slot:"LabelContainer"})(F(({theme:t})=>({width:"100%",color:(t.vars||t).palette.text.secondary,[`&.${_.alternativeLabel}`]:{textAlign:"center"}}))),je=h.forwardRef(function(n,a){const r=H({props:n,name:"MuiStepLabel"}),{children:o,className:l,componentsProps:c={},error:d=!1,icon:x,optional:m,slots:i={},slotProps:u={},StepIconComponent:s,StepIconProps:b,...j}=r,{alternativeLabel:p,orientation:v}=h.useContext(V),{active:L,disabled:y,completed:S,icon:P}=h.useContext(te),k=x||P;let K=s;k&&!K&&(K=He);const w={...r,active:L,alternativeLabel:p,completed:S,disabled:y,error:d,orientation:v},z=Fe(w),W={slots:i,slotProps:{stepIcon:b,...c,...u}},[be,ve]=Q("root",{elementType:Ke,externalForwardedProps:{...W,...j},ownerState:w,ref:a,className:I(z.root,l)}),[ge,E]=Q("label",{elementType:Oe,externalForwardedProps:W,ownerState:w}),[se,fe]=Q("stepIcon",{elementType:K,externalForwardedProps:W,ownerState:w});return e.jsxs(be,{...ve,children:[k||se?e.jsx(Ve,{className:z.iconContainer,ownerState:w,children:e.jsx(se,{completed:S,active:L,error:d,icon:k,...fe})}):null,e.jsxs(Ee,{className:z.labelContainer,ownerState:w,children:[o?e.jsx(ge,{...E,className:I(z.label,E==null?void 0:E.className),children:o}):null,m]})]})});je.muiName="StepLabel";function Je(t){return A("MuiStepConnector",t)}U("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]);const Qe=t=>{const{classes:n,orientation:a,alternativeLabel:r,active:o,completed:l,disabled:c}=t,d={root:["root",a,r&&"alternativeLabel",o&&"active",l&&"completed",c&&"disabled"],line:["line",`line${de(a)}`]};return D(d,Je,n)},qe=C("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:a}=t;return[n.root,n[a.orientation],a.alternativeLabel&&n.alternativeLabel,a.completed&&n.completed]}})({flex:"1 1 auto",variants:[{props:{orientation:"vertical"},style:{marginLeft:12}},{props:{alternativeLabel:!0},style:{position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"}}]}),Ge=C("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:(t,n)=>{const{ownerState:a}=t;return[n.line,n[`line${de(a.orientation)}`]]}})(F(({theme:t})=>{const n=t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600];return{display:"block",borderColor:t.vars?t.vars.palette.StepConnector.border:n,variants:[{props:{orientation:"horizontal"},style:{borderTopStyle:"solid",borderTopWidth:1}},{props:{orientation:"vertical"},style:{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24}}]}})),Xe=h.forwardRef(function(n,a){const r=H({props:n,name:"MuiStepConnector"}),{className:o,...l}=r,{alternativeLabel:c,orientation:d="horizontal"}=h.useContext(V),{active:x,disabled:m,completed:i}=h.useContext(te),u={...r,alternativeLabel:c,orientation:d,active:x,completed:i,disabled:m},s=Qe(u);return e.jsx(qe,{className:I(s.root,o),ref:a,ownerState:u,...l,children:e.jsx(Ge,{className:s.line,ownerState:u})})});function Ye(t){return A("MuiStepContent",t)}U("MuiStepContent",["root","last","transition"]);const Ze=t=>{const{classes:n,last:a}=t;return D({root:["root",a&&"last"],transition:["transition"]},Ye,n)},et=C("div",{name:"MuiStepContent",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:a}=t;return[n.root,a.last&&n.last]}})(F(({theme:t})=>({marginLeft:12,paddingLeft:20,paddingRight:8,borderLeft:t.vars?`1px solid ${t.vars.palette.StepContent.border}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600]}`,variants:[{props:{last:!0},style:{borderLeft:"none"}}]}))),tt=C(X,{name:"MuiStepContent",slot:"Transition"})({}),nt=h.forwardRef(function(n,a){const r=H({props:n,name:"MuiStepContent"}),{children:o,className:l,TransitionComponent:c=X,transitionDuration:d="auto",TransitionProps:x,slots:m={},slotProps:i={},...u}=r,{orientation:s}=h.useContext(V),{active:b,last:j,expanded:p}=h.useContext(te),v={...r,last:j},L=Ze(v);let y=d;d==="auto"&&!c.muiSupportAuto&&(y=void 0);const S={slots:m,slotProps:{transition:x,...i}},[P,k]=Q("transition",{elementType:tt,externalForwardedProps:S,ownerState:v,className:L.transition,additionalProps:{in:b||p,timeout:y,unmountOnExit:!0}});return e.jsx(et,{className:I(L.root,l),ref:a,ownerState:v,...u,children:e.jsx(P,{as:c,...k,children:o})})});function at(t){return A("MuiStepper",t)}U("MuiStepper",["root","horizontal","vertical","nonLinear","alternativeLabel"]);const rt=t=>{const{orientation:n,nonLinear:a,alternativeLabel:r,classes:o}=t;return D({root:["root",n,a&&"nonLinear",r&&"alternativeLabel"]},at,o)},ot=C("div",{name:"MuiStepper",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:a}=t;return[n.root,n[a.orientation],a.alternativeLabel&&n.alternativeLabel,a.nonLinear&&n.nonLinear]}})({display:"flex",variants:[{props:{orientation:"horizontal"},style:{flexDirection:"row",alignItems:"center"}},{props:{orientation:"vertical"},style:{flexDirection:"column"}},{props:{alternativeLabel:!0},style:{alignItems:"flex-start"}}]}),st=e.jsx(Xe,{}),it=h.forwardRef(function(n,a){const r=H({props:n,name:"MuiStepper"}),{activeStep:o=0,alternativeLabel:l=!1,children:c,className:d,component:x="div",connector:m=st,nonLinear:i=!1,orientation:u="horizontal",...s}=r,b={...r,nonLinear:i,alternativeLabel:l,orientation:u,component:x},j=rt(b),p=h.Children.toArray(c).filter(Boolean),v=p.map((y,S)=>h.cloneElement(y,{index:S,last:S+1===p.length,...y.props})),L=h.useMemo(()=>({activeStep:o,alternativeLabel:l,connector:m,nonLinear:i,orientation:u}),[o,l,m,i,u]);return e.jsx(V.Provider,{value:L,children:e.jsx(ot,{as:x,ownerState:b,className:I(j.root,d),ref:a,...s,children:v})})}),O=[{label:"Pilih Nasabah",description:"Pilih nasabah yang akan mengajukan pinjaman",icon:e.jsx(_e,{})},{label:"Detail Pinjaman",description:"Masukkan detail pinjaman yang diajukan",icon:e.jsx(he,{})},{label:"Upload Berkas",description:"Upload berkas-berkas yang diperlukan",icon:e.jsx(re,{})},{label:"Review & Submit",description:"Review data dan submit pengajuan",icon:e.jsx(me,{})}];function lt({data:t,setData:n,errors:a,nasabah:r}){const[o,l]=h.useState(""),[c,d]=h.useState(null),x=r.filter(i=>i.nama_lengkap.toLowerCase().includes(o.toLowerCase())||i.nomor_ktp.includes(o)),m=i=>{d(i),n("nasabah_id",i.id)};return e.jsxs(R,{children:[e.jsx(T,{fullWidth:!0,label:"Cari Nasabah",variant:"outlined",value:o,onChange:i=>l(i.target.value),InputProps:{startAdornment:e.jsx(Re,{sx:{mr:1,color:"text.secondary"}})},sx:{mb:2}}),e.jsx(Pe,{sx:{maxHeight:400,overflow:"auto"},children:e.jsx(xe,{children:x.map(i=>e.jsx(q.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsxs(Y,{button:!0,onClick:()=>m(i),selected:(c==null?void 0:c.id)===i.id,sx:{border:(c==null?void 0:c.id)===i.id?2:0,borderColor:"primary.main",borderRadius:1,mb:1,mx:1},children:[e.jsx(Z,{children:e.jsx(ue,{sx:{bgcolor:"primary.main"},children:i.nama_lengkap.charAt(0)})}),e.jsx(ee,{primary:i.nama_lengkap,secondary:`KTP: ${i.nomor_ktp}`}),(c==null?void 0:c.id)===i.id&&e.jsx(me,{color:"primary"})]})},i.id))})}),a.nasabah_id&&e.jsx(oe,{severity:"error",sx:{mt:2},children:a.nasabah_id})]})}function ct({data:t,setData:n,errors:a}){return e.jsxs(g,{container:!0,spacing:3,children:[e.jsx(g,{item:!0,xs:12,children:e.jsx(T,{fullWidth:!0,label:"Jumlah Pinjaman (Rp)",type:"number",variant:"outlined",value:t.jumlah_pinjaman,onChange:r=>n("jumlah_pinjaman",r.target.value),error:!!a.jumlah_pinjaman,helperText:a.jumlah_pinjaman,InputProps:{startAdornment:e.jsx(he,{sx:{mr:1,color:"text.secondary"}})}})}),e.jsx(g,{item:!0,xs:12,children:e.jsx(T,{fullWidth:!0,label:"Tujuan Penggunaan",multiline:!0,rows:3,variant:"outlined",value:t.tujuan_penggunaan||"",onChange:r=>n("tujuan_penggunaan",r.target.value),placeholder:"Jelaskan tujuan penggunaan dana pinjaman..."})}),e.jsx(g,{item:!0,xs:12,md:6,children:e.jsx(T,{fullWidth:!0,label:"Jangka Waktu (Bulan)",type:"number",variant:"outlined",value:t.jangka_waktu||"",onChange:r=>n("jangka_waktu",r.target.value)})}),e.jsx(g,{item:!0,xs:12,md:6,children:e.jsxs(T,{fullWidth:!0,select:!0,label:"Jenis Agunan",variant:"outlined",value:t.jenis_agunan||"",onChange:r=>n("jenis_agunan",r.target.value),children:[e.jsx(J,{value:"bpkb",children:"BPKB Kendaraan"}),e.jsx(J,{value:"sertifikat",children:"Sertifikat Tanah"}),e.jsx(J,{value:"deposito",children:"Deposito"}),e.jsx(J,{value:"lainnya",children:"Lainnya"})]})})]})}function pt({data:t,setData:n,errors:a}){var i,u;const[r,o]=h.useState("wajib"),l=s=>{const b=t.berkas||[];n("berkas",[...b,{nama_berkas:"",file:null,section:s,required:s==="wajib"}])},c=s=>{const b=t.berkas.filter((j,p)=>p!==s);n("berkas",b)},d=(s,b,j)=>{const p=[...t.berkas||[]];p[s]={...p[s],[b]:j},n("berkas",p)},x=((i=t.berkas)==null?void 0:i.filter(s=>s.section==="wajib"))||[],m=((u=t.berkas)==null?void 0:u.filter(s=>s.section==="tambahan"))||[];return e.jsxs(R,{children:[e.jsxs(N,{sx:{mb:2},children:[e.jsxs(Y,{button:!0,onClick:()=>o(r==="wajib"?null:"wajib"),children:[e.jsx(Z,{children:e.jsx(we,{color:"error"})}),e.jsx(ee,{primary:"Berkas Wajib",secondary:`${x.length} berkas`}),r==="wajib"?e.jsx(ie,{}):e.jsx(le,{})]}),e.jsx(X,{in:r==="wajib",children:e.jsxs($,{children:[x.map((s,b)=>e.jsxs(g,{container:!0,spacing:2,sx:{mb:2},children:[e.jsx(g,{item:!0,xs:12,md:6,children:e.jsx(T,{fullWidth:!0,label:"Nama Berkas",value:s.nama_berkas,onChange:j=>d(t.berkas.indexOf(s),"nama_berkas",j.target.value),placeholder:"contoh: KTP, KK, Slip Gaji"})}),e.jsx(g,{item:!0,xs:12,md:4,children:e.jsxs(M,{variant:"outlined",component:"label",fullWidth:!0,startIcon:e.jsx(re,{}),children:[s.file?s.file.name:"Pilih File",e.jsx("input",{type:"file",hidden:!0,accept:".pdf,.jpg,.jpeg,.png",onChange:j=>{var p;return d(t.berkas.indexOf(s),"file",((p=j.target.files)==null?void 0:p[0])||null)}})]})}),e.jsx(g,{item:!0,xs:12,md:2,children:e.jsx(M,{variant:"outlined",color:"error",fullWidth:!0,onClick:()=>c(t.berkas.indexOf(s)),children:"Hapus"})})]},b)),e.jsx(M,{variant:"outlined",startIcon:e.jsx(G,{}),onClick:()=>l("wajib"),children:"Tambah Berkas Wajib"})]})})]}),e.jsxs(N,{children:[e.jsxs(Y,{button:!0,onClick:()=>o(r==="tambahan"?null:"tambahan"),children:[e.jsx(Z,{children:e.jsx(G,{color:"primary"})}),e.jsx(ee,{primary:"Berkas Tambahan (Opsional)",secondary:`${m.length} berkas`}),r==="tambahan"?e.jsx(ie,{}):e.jsx(le,{})]}),e.jsx(X,{in:r==="tambahan",children:e.jsxs($,{children:[m.map((s,b)=>e.jsxs(g,{container:!0,spacing:2,sx:{mb:2},children:[e.jsx(g,{item:!0,xs:12,md:6,children:e.jsx(T,{fullWidth:!0,label:"Nama Berkas",value:s.nama_berkas,onChange:j=>d(t.berkas.indexOf(s),"nama_berkas",j.target.value),placeholder:"contoh: Riwayat Bank, Surat Keterangan Usaha"})}),e.jsx(g,{item:!0,xs:12,md:4,children:e.jsxs(M,{variant:"outlined",component:"label",fullWidth:!0,startIcon:e.jsx(re,{}),children:[s.file?s.file.name:"Pilih File",e.jsx("input",{type:"file",hidden:!0,accept:".pdf,.jpg,.jpeg,.png",onChange:j=>{var p;return d(t.berkas.indexOf(s),"file",((p=j.target.files)==null?void 0:p[0])||null)}})]})}),e.jsx(g,{item:!0,xs:12,md:2,children:e.jsx(M,{variant:"outlined",color:"error",fullWidth:!0,onClick:()=>c(t.berkas.indexOf(s)),children:"Hapus"})})]},b)),e.jsx(M,{variant:"outlined",startIcon:e.jsx(G,{}),onClick:()=>l("tambahan"),children:"Tambah Berkas Tambahan"})]})})]}),a.berkas&&e.jsx(oe,{severity:"error",sx:{mt:2},children:a.berkas})]})}function dt({data:t,nasabah:n}){var r,o;const a=n.find(l=>l.id==t.nasabah_id);return e.jsx(R,{children:e.jsxs(g,{container:!0,spacing:3,children:[e.jsx(g,{item:!0,xs:12,md:6,children:e.jsx(N,{children:e.jsxs($,{children:[e.jsx(f,{variant:"h6",gutterBottom:!0,children:"Data Nasabah"}),e.jsxs(f,{children:[e.jsx("strong",{children:"Nama:"})," ",a==null?void 0:a.nama_lengkap]}),e.jsxs(f,{children:[e.jsx("strong",{children:"KTP:"})," ",a==null?void 0:a.nomor_ktp]})]})})}),e.jsx(g,{item:!0,xs:12,md:6,children:e.jsx(N,{children:e.jsxs($,{children:[e.jsx(f,{variant:"h6",gutterBottom:!0,children:"Detail Pinjaman"}),e.jsxs(f,{children:[e.jsx("strong",{children:"Jumlah:"})," Rp"," ",parseInt(t.jumlah_pinjaman||0).toLocaleString("id-ID")]}),e.jsxs(f,{children:[e.jsx("strong",{children:"Tujuan:"})," ",t.tujuan_penggunaan||"-"]}),e.jsxs(f,{children:[e.jsx("strong",{children:"Jangka Waktu:"})," ",t.jangka_waktu||"-"," bulan"]}),e.jsxs(f,{children:[e.jsx("strong",{children:"Agunan:"})," ",t.jenis_agunan||"-"]})]})})}),e.jsx(g,{item:!0,xs:12,children:e.jsx(N,{children:e.jsxs($,{children:[e.jsxs(f,{variant:"h6",gutterBottom:!0,children:["Berkas yang Diupload (",((r=t.berkas)==null?void 0:r.length)||0,")"]}),e.jsx(xe,{dense:!0,children:(o=t.berkas)==null?void 0:o.map((l,c)=>{var d;return e.jsxs(Y,{children:[e.jsx(Z,{children:e.jsx(G,{})}),e.jsx(ee,{primary:l.nama_berkas,secondary:(d=l.file)==null?void 0:d.name}),e.jsx(Me,{label:l.section==="wajib"?"Wajib":"Tambahan",color:l.section==="wajib"?"error":"primary",size:"small"})]},c)})})]})})})]})})}function gt({auth:t,nasabah:n}){const[a,r]=h.useState(0),{data:o,setData:l,post:c,processing:d,errors:x,progress:m}=Se({nasabah_id:"",jumlah_pinjaman:"",tujuan_penggunaan:"",jangka_waktu:"",jenis_agunan:"",berkas:[{nama_berkas:"",file:null,section:"wajib",required:!0}]}),i=()=>{r(p=>p+1)},u=()=>{r(p=>p-1)},s=()=>{c(route("pinjaman.store"))},b=p=>{switch(p){case 0:return o.nasabah_id!=="";case 1:return o.jumlah_pinjaman!=="";case 2:return o.berkas&&o.berkas.length>0;default:return!0}},j=p=>{switch(p){case 0:return e.jsx(lt,{data:o,setData:l,errors:x,nasabah:n});case 1:return e.jsx(ct,{data:o,setData:l,errors:x});case 2:return e.jsx(pt,{data:o,setData:l,errors:x});case 3:return e.jsx(dt,{data:o,nasabah:n});default:return null}};return e.jsxs(ke,{title:"Wizard Pengajuan Pinjaman",children:[e.jsx(Ce,{title:"Buat Pengajuan Pinjaman"}),e.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsx(N,{children:e.jsxs($,{sx:{p:4},children:[e.jsx(f,{variant:"h4",fontWeight:"bold",gutterBottom:!0,children:"Wizard Pengajuan Pinjaman"}),e.jsx(f,{variant:"body1",color:"textSecondary",sx:{mb:4},children:"Ikuti langkah-langkah berikut untuk membuat pengajuan pinjaman baru"}),e.jsxs(R,{sx:{mb:4},children:[e.jsx(ce,{variant:"determinate",value:a/(O.length-1)*100,sx:{height:8,borderRadius:4}}),e.jsxs(f,{variant:"body2",color:"textSecondary",sx:{mt:1},children:["Langkah ",a+1," dari ",O.length]})]}),e.jsx(it,{activeStep:a,orientation:"vertical",children:O.map((p,v)=>e.jsxs(ze,{children:[e.jsxs(je,{icon:e.jsx(ue,{sx:{bgcolor:v<=a?"primary.main":"grey.300",width:40,height:40},children:p.icon}),children:[e.jsx(f,{variant:"h6",fontWeight:"medium",children:p.label}),e.jsx(f,{variant:"body2",color:"textSecondary",children:p.description})]}),e.jsx(nt,{children:e.jsxs(q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},children:[e.jsx(R,{sx:{my:3},children:j(v)}),e.jsxs(R,{sx:{mb:2},children:[e.jsx(M,{variant:"contained",onClick:v===O.length-1?s:i,disabled:!b(v)||d,sx:{mt:1,mr:1},children:v===O.length-1?"Submit Pengajuan":"Lanjutkan"}),e.jsx(M,{disabled:v===0||d,onClick:u,sx:{mt:1,mr:1},children:"Kembali"})]})]})})]},p.label))}),e.jsx(Le,{children:m&&e.jsx(q.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:e.jsx(R,{sx:{mt:3},children:e.jsxs(oe,{severity:"info",children:[e.jsxs(f,{variant:"body2",children:["Mengupload berkas... ",m.percentage,"%"]}),e.jsx(ce,{variant:"determinate",value:m.percentage,sx:{mt:1}})]})})})})]})})})]})}export{gt as default};
