import{r as h,j as e,Q as u,t,S as l}from"./app-DQ50vfdB.js";import{T as p,F as g}from"./TailLayout-CUFZkN9l.js";import{F as f}from"./PlusIcon-BOT5okp5.js";import{F as j}from"./EyeIcon-DfYgRoOc.js";import{F as y,a as N}from"./TrashIcon-Cjx8d98D.js";import"./TechStackBackground-vFG2YikW.js";import"./index-CXCxKWl8.js";import"./XMarkIcon-iLJawDXb.js";import"./UsersIcon-Do4GODTd.js";import"./transition-B40-nL65.js";import"./dialog-B4S7MQxj.js";import"./with-selector-CC73ae-U.js";import"./index-OSMIWnHG.js";function T({nasabah:s,search:i}){const[r,n]=h.useState(i||""),d=a=>{a.preventDefault(),l.get("/nasabah",{search:r},{preserveState:!0})},c=a=>{confirm("Apakah Anda yakin ingin menghapus data nasabah ini?")&&l.delete(`/nasabah/${a}`)},x=a=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(a),m=a=>a==="L"?"Laki-laki":a==="P"?"Perempuan":"-",o=a=>{switch(a){case"belum_menikah":return"Belum Menikah";case"menikah":return"Menikah";case"cerai_hidup":return"Cerai Hidup";case"cerai_mati":return"Cerai Mati";default:return"-"}};return e.jsxs(p,{children:[e.jsx(u,{title:"Data Nasabah"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Data Nasabah"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Kelola data nasabah dan informasi pribadi"})]}),e.jsxs(t,{href:"/nasabah/create",className:"inline-flex items-center rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[e.jsx(f,{className:"mr-2 h-4 w-4"}),"Tambah Nasabah"]})]}),e.jsx("div",{className:"mb-6",children:e.jsx("form",{onSubmit:d,className:"max-w-md",children:e.jsxs("div",{className:"flex rounded-lg shadow-sm",children:[e.jsx("input",{type:"text",value:r,onChange:a=>n(a.target.value),placeholder:"Cari nama, NIK, alamat, atau nomor WA...",className:"block w-full rounded-l-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500 sm:text-sm"}),e.jsx("button",{type:"submit",className:"inline-flex items-center rounded-r-lg border border-l-0 border-gray-300 bg-gray-50 px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",children:"Cari"})]})})}),e.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200 bg-white shadow",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Nasabah"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"NIK"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Kontak"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Info Personal"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Pinjaman"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Aksi"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:s.data.length>0?s.data.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-full bg-blue-100",children:e.jsx(g,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:a.nama_lengkap}),e.jsx("div",{className:"text-sm text-gray-500",children:a.pekerjaan||"Pekerjaan tidak diisi"})]})]})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm text-gray-900",children:a.nik}),e.jsx("div",{className:"text-sm text-gray-500",children:m(a.jenis_kelamin)})]}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm text-gray-900",children:a.nomor_wa}),e.jsx("div",{className:"text-sm text-gray-500",children:a.alamat.length>30?`${a.alamat.substring(0,30)}...`:a.alamat})]}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm text-gray-900",children:o(a.status_perkawinan)}),e.jsx("div",{className:"text-sm text-gray-500",children:a.agama||"-"}),a.penghasilan&&e.jsx("div",{className:"text-sm text-gray-500",children:x(a.penghasilan)})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"inline-flex items-center rounded-full bg-blue-100 px-2.5 py-0.5 text-xs font-medium text-blue-800",children:[a.pinjaman_count||0," pinjaman"]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(t,{href:`/nasabah/${a.id}`,className:"text-blue-600 hover:text-blue-900",title:"Lihat Detail",children:e.jsx(j,{className:"h-4 w-4"})}),e.jsx(t,{href:`/nasabah/${a.id}/edit`,className:"text-indigo-600 hover:text-indigo-900",title:"Edit",children:e.jsx(y,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>c(a.id),className:"text-red-600 hover:text-red-900",title:"Hapus",children:e.jsx(N,{className:"h-4 w-4"})})]})})]},a.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-sm text-gray-500",children:"Belum ada data nasabah"})})})]})})}),s.data.length>0&&e.jsxs("div",{className:"mt-4 text-sm text-gray-700",children:["Menampilkan ",s.data.length," dari ",s.meta.total," data nasabah"]})]})]})}export{T as default};
