import{r as d,j as e,Q as N,t as l,S as o}from"./app-DQ50vfdB.js";import{T as w}from"./TailLayout-CUFZkN9l.js";import{F as b}from"./PlusIcon-BOT5okp5.js";import{F as v}from"./MagnifyingGlassIcon-BUKtBMH4.js";import{F as k}from"./EyeIcon-DfYgRoOc.js";import{F as S,a as D}from"./TrashIcon-Cjx8d98D.js";import"./TechStackBackground-vFG2YikW.js";import"./index-CXCxKWl8.js";import"./XMarkIcon-iLJawDXb.js";import"./UsersIcon-Do4GODTd.js";import"./transition-B40-nL65.js";import"./dialog-B4S7MQxj.js";import"./with-selector-CC73ae-U.js";import"./index-OSMIWnHG.js";function Q({nasabah:a,search:p=""}){var c;const[n,h]=d.useState(p),[g,i]=d.useState(!1),[r,x]=d.useState(null),u=t=>{t.preventDefault(),o.get("/nasabah",{search:n},{preserveState:!0})},f=t=>{x(t),i(!0)},y=()=>{r&&o.delete(`/nasabah/${r.id}`,{onSuccess:()=>{i(!1),x(null)}})},j=t=>new Date(t).toLocaleDateString("id-ID");return e.jsxs(w,{children:[e.jsx(N,{title:"Data Nasabah"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Data Nasabah"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Kelola data nasabah pinjaman"})]}),e.jsxs(l,{href:"/nasabah/create",className:"inline-flex items-center rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700",children:[e.jsx(b,{className:"mr-2 h-5 w-5"}),"Tambah Nasabah"]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("form",{onSubmit:u,className:"flex w-full max-w-md gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(v,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",value:n,onChange:t=>h(t.target.value),placeholder:"Cari nama, NIK, atau No. WhatsApp...",className:"w-full rounded-lg border border-gray-300 py-2 pl-10 pr-4 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsx("button",{type:"submit",className:"rounded-lg bg-gray-100 px-4 py-2 text-gray-700 hover:bg-gray-200",children:"Cari"})]})}),e.jsx("div",{className:"overflow-hidden rounded-lg bg-white shadow",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Nama"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"NIK"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"No. KTP"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"No. WhatsApp"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Tanggal Daftar"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500",children:"Aksi"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:a.data&&a.data.length>0?a.data.map(t=>{var s,m;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"whitespace-nowrap px-6 py-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.nama_lengkap}),e.jsxs("div",{className:"text-sm text-gray-500",children:[(s=t.alamat)==null?void 0:s.substring(0,50),((m=t.alamat)==null?void 0:m.length)>50&&"..."]})]}),e.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-900",children:t.nik}),e.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-900",children:t.nomor_ktp}),e.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-900",children:t.nomor_wa}),e.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-500",children:j(t.created_at)}),e.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium",children:e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(l,{href:`/nasabah/${t.id}`,className:"text-blue-600 hover:text-blue-900",children:e.jsx(k,{className:"h-5 w-5"})}),e.jsx(l,{href:`/nasabah/${t.id}/edit`,className:"text-indigo-600 hover:text-indigo-900",children:e.jsx(S,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>f(t),className:"text-red-600 hover:text-red-900",children:e.jsx(D,{className:"h-5 w-5"})})]})})]},t.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-sm text-gray-500",children:"Belum ada data nasabah"})})})]})})}),((c=a==null?void 0:a.meta)==null?void 0:c.last_page)>1&&e.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Menampilkan"," ",(a.meta.current_page-1)*a.meta.per_page+1," -"," ",Math.min(a.meta.current_page*a.meta.per_page,a.meta.total)," ","dari ",a.meta.total," data"]}),e.jsx("div",{className:"flex space-x-1",children:a.links.map((t,s)=>e.jsx(l,{href:t.url||"#",className:`px-3 py-2 text-sm ${t.active?"bg-blue-600 text-white":"bg-white text-gray-500 hover:bg-gray-100"} border border-gray-300 ${s===0?"rounded-l-lg":""} ${s===a.links.length-1?"rounded-r-lg":""}`,dangerouslySetInnerHTML:{__html:t.label}},s))})]})]}),g&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxs("div",{className:"w-full max-w-md rounded-lg bg-white p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Hapus Nasabah"}),e.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Apakah Anda yakin ingin menghapus nasabah"," ",e.jsx("strong",{children:r==null?void 0:r.nama_lengkap}),"? Tindakan ini tidak dapat dibatalkan."]}),e.jsxs("div",{className:"mt-4 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>i(!1),className:"rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Batal"}),e.jsx("button",{onClick:y,className:"rounded-lg bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700",children:"Hapus"})]})]})})]})}export{Q as default};
