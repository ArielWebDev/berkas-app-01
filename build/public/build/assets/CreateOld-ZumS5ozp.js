import{r as t,j as e,Q as y,t as u,S as x}from"./app-DQ50vfdB.js";import{T as _,F as v}from"./TailLayout-CUFZkN9l.js";import{F}from"./ArrowLeftIcon-MZP5C6a4.js";import{F as h}from"./CheckIcon-DffIWXoT.js";import"./TechStackBackground-vFG2YikW.js";import"./index-CXCxKWl8.js";import"./XMarkIcon-iLJawDXb.js";import"./UsersIcon-Do4GODTd.js";import"./transition-B40-nL65.js";import"./dialog-B4S7MQxj.js";import"./with-selector-CC73ae-U.js";import"./index-OSMIWnHG.js";function A({errors:a={}}){const[s,c]=t.useState({nama_lengkap:"",nomor_ktp:"",nik:"",alamat:"",nomor_wa:"",tempat_lahir:"",tanggal_lahir:"",jenis_kelamin:"L",pekerjaan:"",penghasilan:0,status_perkawinan:"belum_kawin"}),[g,p]=t.useState(""),[o,i]=t.useState(!1),[b,f]=t.useState(!1),n=r=>{const{name:l,value:d}=r.target;c(m=>({...m,[l]:d}))},j=r=>{r.preventDefault(),i(!0),x.post("/nasabah",s,{onSuccess:()=>{f(!0),setTimeout(()=>{x.visit("/nasabah")},2e3)},onError:()=>{i(!1)},onFinish:()=>{i(!1)}})},k=r=>{const l=r.replace(/[^\d]/g,"");return new Intl.NumberFormat("id-ID").format(Number(l))},N=r=>{const{value:l}=r.target,d=l.replace(/[^\d]/g,""),m=k(l);p(m),c(w=>({...w,penghasilan:Number(d)}))};return e.jsxs(_,{children:[e.jsx(y,{title:"Tambah Nasabah Baru"}),e.jsx("div",{className:"min-h-screen bg-gray-50 py-6",children:e.jsxs("div",{className:"mx-auto max-w-4xl px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(u,{href:"/nasabah",className:"flex items-center rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),"Kembali"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Tambah Nasabah Baru"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Lengkapi data nasabah untuk mengajukan pinjaman"})]})]})}),b&&e.jsx("div",{className:"mb-6 rounded-lg bg-green-50 p-4 ring-1 ring-green-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(h,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-green-800",children:"Data nasabah berhasil disimpan! Mengalihkan ke halaman nasabah..."})]})}),e.jsxs("form",{onSubmit:j,className:"space-y-8",children:[e.jsxs("div",{className:"rounded-lg bg-white shadow",children:[e.jsx("div",{className:"border-b border-gray-200 px-6 py-4",children:e.jsxs("h2",{className:"flex items-center text-lg font-semibold text-gray-900",children:[e.jsx(v,{className:"mr-2 h-5 w-5 text-blue-600"}),"Data Pribadi"]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"nama_lengkap",className:"block text-sm font-medium text-gray-700",children:"Nama Lengkap *"}),e.jsx("input",{type:"text",id:"nama_lengkap",name:"nama_lengkap",value:s.nama_lengkap,onChange:n,required:!0,className:`mt-1 block w-full rounded-lg border px-3 py-2 shadow-sm focus:outline-none focus:ring-2 ${a.nama_lengkap?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`,placeholder:"Masukkan nama lengkap"}),a.nama_lengkap&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.nama_lengkap})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"nik",className:"block text-sm font-medium text-gray-700",children:"NIK *"}),e.jsx("input",{type:"text",id:"nik",name:"nik",value:s.nik,onChange:n,required:!0,maxLength:16,className:`mt-1 block w-full rounded-lg border px-3 py-2 shadow-sm focus:outline-none focus:ring-2 ${a.nik?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`,placeholder:"Nomor Induk Kependudukan"}),a.nik&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.nik})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"jenis_kelamin",className:"block text-sm font-medium text-gray-700",children:"Jenis Kelamin *"}),e.jsxs("select",{id:"jenis_kelamin",name:"jenis_kelamin",value:s.jenis_kelamin,onChange:n,required:!0,className:`mt-1 block w-full rounded-lg border px-3 py-2 shadow-sm focus:outline-none focus:ring-2 ${a.jenis_kelamin?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`,children:[e.jsx("option",{value:"",children:"Pilih jenis kelamin"}),e.jsx("option",{value:"L",children:"Laki-laki"}),e.jsx("option",{value:"P",children:"Perempuan"})]}),a.jenis_kelamin&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.jenis_kelamin})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"tempat_lahir",className:"block text-sm font-medium text-gray-700",children:"Tempat Lahir *"}),e.jsx("input",{type:"text",id:"tempat_lahir",name:"tempat_lahir",value:s.tempat_lahir,onChange:n,required:!0,className:`mt-1 block w-full rounded-lg border px-3 py-2 shadow-sm focus:outline-none focus:ring-2 ${a.tempat_lahir?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`,placeholder:"Kota tempat lahir"}),a.tempat_lahir&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.tempat_lahir})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"tanggal_lahir",className:"block text-sm font-medium text-gray-700",children:"Tanggal Lahir *"}),e.jsx("input",{type:"date",id:"tanggal_lahir",name:"tanggal_lahir",value:s.tanggal_lahir,onChange:n,required:!0,className:`mt-1 block w-full rounded-lg border px-3 py-2 shadow-sm focus:outline-none focus:ring-2 ${a.tanggal_lahir?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`}),a.tanggal_lahir&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.tanggal_lahir})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status_perkawinan",className:"block text-sm font-medium text-gray-700",children:"Status Perkawinan *"}),e.jsxs("select",{id:"status_perkawinan",name:"status_perkawinan",value:s.status_perkawinan,onChange:n,required:!0,className:`mt-1 block w-full rounded-lg border px-3 py-2 shadow-sm focus:outline-none focus:ring-2 ${a.status_perkawinan?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`,children:[e.jsx("option",{value:"",children:"Pilih status perkawinan"}),e.jsx("option",{value:"belum_kawin",children:"Belum Kawin"}),e.jsx("option",{value:"kawin",children:"Kawin"}),e.jsx("option",{value:"cerai",children:"Cerai"})]}),a.status_perkawinan&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.status_perkawinan})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"alamat",className:"block text-sm font-medium text-gray-700",children:"Alamat Lengkap *"}),e.jsx("textarea",{id:"alamat",name:"alamat",value:s.alamat,onChange:n,required:!0,rows:3,className:`mt-1 block w-full rounded-lg border px-3 py-2 shadow-sm focus:outline-none focus:ring-2 ${a.alamat?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`,placeholder:"Alamat lengkap sesuai KTP"}),a.alamat&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.alamat})]})]})})]}),e.jsxs("div",{className:"rounded-lg bg-white shadow",children:[e.jsx("div",{className:"border-b border-gray-200 px-6 py-4",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Kontak & Pekerjaan"})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"nomor_ktp",className:"block text-sm font-medium text-gray-700",children:"Nomor KTP *"}),e.jsx("input",{type:"text",id:"nomor_ktp",name:"nomor_ktp",value:s.nomor_ktp,onChange:n,required:!0,maxLength:20,className:`mt-1 block w-full rounded-lg border px-3 py-2 shadow-sm focus:outline-none focus:ring-2 ${a.nomor_ktp?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`,placeholder:"Nomor Kartu Tanda Penduduk"}),a.nomor_ktp&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.nomor_ktp})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"nomor_wa",className:"block text-sm font-medium text-gray-700",children:"Nomor WhatsApp *"}),e.jsx("input",{type:"tel",id:"nomor_wa",name:"nomor_wa",value:s.nomor_wa,onChange:n,required:!0,className:`mt-1 block w-full rounded-lg border px-3 py-2 shadow-sm focus:outline-none focus:ring-2 ${a.nomor_wa?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`,placeholder:"08xxxxxxxxxx"}),a.nomor_wa&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.nomor_wa})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"pekerjaan",className:"block text-sm font-medium text-gray-700",children:"Pekerjaan *"}),e.jsx("input",{type:"text",id:"pekerjaan",name:"pekerjaan",value:s.pekerjaan,onChange:n,required:!0,className:`mt-1 block w-full rounded-lg border px-3 py-2 shadow-sm focus:outline-none focus:ring-2 ${a.pekerjaan?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`,placeholder:"Jenis pekerjaan"}),a.pekerjaan&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.pekerjaan})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"penghasilan",className:"block text-sm font-medium text-gray-700",children:"Penghasilan Bulanan *"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"Rp"}),e.jsx("input",{type:"text",id:"penghasilan",name:"penghasilan",value:g,onChange:N,required:!0,className:`block w-full rounded-lg border px-3 py-2 pl-10 shadow-sm focus:outline-none focus:ring-2 ${a.penghasilan?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`,placeholder:"5,000,000"})]}),a.penghasilan&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.penghasilan})]})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(u,{href:"/nasabah",className:"rounded-lg border border-gray-300 bg-white px-6 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",children:"Batal"}),e.jsx("button",{type:"submit",disabled:o,className:`inline-flex items-center rounded-lg px-6 py-2 text-sm font-medium text-white shadow-sm ${o?"cursor-not-allowed bg-gray-400":"bg-blue-600 hover:bg-blue-700"}`,children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Menyimpan..."]}):e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"mr-2 h-4 w-4"}),"Simpan Nasabah"]})})]})]})]})})]})}export{A as default};
