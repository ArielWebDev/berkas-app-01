import{r as m,j as e,Q as k,t as c,S as x}from"./app-DQ50vfdB.js";import{T as N,F as _}from"./TailLayout-CUFZkN9l.js";import{F as y}from"./ArrowLeftIcon-MZP5C6a4.js";import{F as h}from"./CheckIcon-DffIWXoT.js";import"./TechStackBackground-vFG2YikW.js";import"./index-CXCxKWl8.js";import"./XMarkIcon-iLJawDXb.js";import"./UsersIcon-Do4GODTd.js";import"./transition-B40-nL65.js";import"./dialog-B4S7MQxj.js";import"./with-selector-CC73ae-U.js";import"./index-OSMIWnHG.js";function B({errors:a={}}){const[n,u]=m.useState({nama_lengkap:"",nomor_ktp:"",nik:"",alamat:"",nomor_wa:"",no_telepon:"",tempat_lahir:"",tanggal_lahir:"",jenis_kelamin:"L",pekerjaan:"",penghasilan:0,status_perkawinan:"belum_kawin"}),[t,i]=m.useState(!1),[g,b]=m.useState(!1),s=l=>{const{name:r,value:o}=l.target;u(d=>({...d,[r]:o}))},p=l=>{l.preventDefault(),i(!0),x.post("/nasabah",n,{onSuccess:()=>{b(!0),setTimeout(()=>{x.visit("/nasabah")},2e3)},onError:()=>{i(!1)},onFinish:()=>{i(!1)}})},f=l=>{const r=l.replace(/[^\d]/g,"");return new Intl.NumberFormat("id-ID").format(Number(r))},j=l=>{const{value:r}=l.target,o=f(r);u(d=>({...d,penghasilan_bulanan:o}))};return e.jsxs(N,{children:[e.jsx(k,{title:"Tambah Nasabah Baru"}),e.jsx("div",{className:"min-h-screen bg-gray-50 py-6",children:e.jsxs("div",{className:"mx-auto max-w-4xl px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(c,{href:"/nasabah",className:"flex items-center rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",children:[e.jsx(y,{className:"mr-2 h-4 w-4"}),"Kembali"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Tambah Nasabah Baru"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Lengkapi data nasabah untuk mengajukan pinjaman"})]})]})}),g&&e.jsx("div",{className:"mb-6 rounded-lg bg-green-50 p-4 ring-1 ring-green-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(h,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-green-800",children:"Data nasabah berhasil disimpan! Mengalihkan ke halaman nasabah..."})]})}),e.jsxs("form",{onSubmit:p,className:"space-y-8",children:[e.jsxs("div",{className:"rounded-lg bg-white shadow",children:[e.jsx("div",{className:"border-b border-gray-200 px-6 py-4",children:e.jsxs("h2",{className:"flex items-center text-lg font-semibold text-gray-900",children:[e.jsx(_,{className:"mr-2 h-5 w-5 text-blue-600"}),"Data Pribadi"]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"nama_lengkap",className:"block text-sm font-medium text-gray-700",children:"Nama Lengkap *"}),e.jsx("input",{type:"text",id:"nama_lengkap",name:"nama_lengkap",value:n.nama_lengkap,onChange:s,required:!0,className:`mt-1 block w-full rounded-lg border px-3 py-2 shadow-sm focus:outline-none focus:ring-2 ${a.nama_lengkap?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`,placeholder:"Masukkan nama lengkap"}),a.nama_lengkap&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.nama_lengkap})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"nik",className:"block text-sm font-medium text-gray-700",children:"NIK *"}),e.jsx("input",{type:"text",id:"nik",name:"nik",value:n.nik,onChange:s,required:!0,maxLength:16,className:`mt-1 block w-full rounded-lg border px-3 py-2 shadow-sm focus:outline-none focus:ring-2 ${a.nik?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`,placeholder:"Nomor Induk Kependudukan"}),a.nik&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.nik})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"jenis_kelamin",className:"block text-sm font-medium text-gray-700",children:"Jenis Kelamin *"}),e.jsxs("select",{id:"jenis_kelamin",name:"jenis_kelamin",value:n.jenis_kelamin,onChange:s,required:!0,className:`mt-1 block w-full rounded-lg border px-3 py-2 shadow-sm focus:outline-none focus:ring-2 ${a.jenis_kelamin?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`,children:[e.jsx("option",{value:"",children:"Pilih jenis kelamin"}),e.jsx("option",{value:"L",children:"Laki-laki"}),e.jsx("option",{value:"P",children:"Perempuan"})]}),a.jenis_kelamin&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.jenis_kelamin})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"tempat_lahir",className:"block text-sm font-medium text-gray-700",children:"Tempat Lahir *"}),e.jsx("input",{type:"text",id:"tempat_lahir",name:"tempat_lahir",value:n.tempat_lahir,onChange:s,required:!0,className:`mt-1 block w-full rounded-lg border px-3 py-2 shadow-sm focus:outline-none focus:ring-2 ${a.tempat_lahir?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`,placeholder:"Kota tempat lahir"}),a.tempat_lahir&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.tempat_lahir})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"tanggal_lahir",className:"block text-sm font-medium text-gray-700",children:"Tanggal Lahir *"}),e.jsx("input",{type:"date",id:"tanggal_lahir",name:"tanggal_lahir",value:n.tanggal_lahir,onChange:s,required:!0,className:`mt-1 block w-full rounded-lg border px-3 py-2 shadow-sm focus:outline-none focus:ring-2 ${a.tanggal_lahir?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`}),a.tanggal_lahir&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.tanggal_lahir})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"nama_ibu_kandung",className:"block text-sm font-medium text-gray-700",children:"Nama Ibu Kandung *"}),e.jsx("input",{type:"text",id:"nama_ibu_kandung",name:"nama_ibu_kandung",value:n.nama_ibu_kandung,onChange:s,required:!0,className:`mt-1 block w-full rounded-lg border px-3 py-2 shadow-sm focus:outline-none focus:ring-2 ${a.nama_ibu_kandung?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`,placeholder:"Nama ibu kandung"}),a.nama_ibu_kandung&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.nama_ibu_kandung})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"agama",className:"block text-sm font-medium text-gray-700",children:"Agama *"}),e.jsxs("select",{id:"agama",name:"agama",value:n.agama,onChange:s,required:!0,className:`mt-1 block w-full rounded-lg border px-3 py-2 shadow-sm focus:outline-none focus:ring-2 ${a.agama?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`,children:[e.jsx("option",{value:"",children:"Pilih agama"}),e.jsx("option",{value:"Islam",children:"Islam"}),e.jsx("option",{value:"Kristen",children:"Kristen"}),e.jsx("option",{value:"Katolik",children:"Katolik"}),e.jsx("option",{value:"Hindu",children:"Hindu"}),e.jsx("option",{value:"Buddha",children:"Buddha"}),e.jsx("option",{value:"Konghucu",children:"Konghucu"})]}),a.agama&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.agama})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status_perkawinan",className:"block text-sm font-medium text-gray-700",children:"Status Perkawinan *"}),e.jsxs("select",{id:"status_perkawinan",name:"status_perkawinan",value:n.status_perkawinan,onChange:s,required:!0,className:`mt-1 block w-full rounded-lg border px-3 py-2 shadow-sm focus:outline-none focus:ring-2 ${a.status_perkawinan?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`,children:[e.jsx("option",{value:"",children:"Pilih status perkawinan"}),e.jsx("option",{value:"belum_kawin",children:"Belum Kawin"}),e.jsx("option",{value:"kawin",children:"Kawin"}),e.jsx("option",{value:"cerai",children:"Cerai Hidup"}),e.jsx("option",{value:"cerai",children:"Cerai Mati"})]}),a.status_perkawinan&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.status_perkawinan})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"alamat",className:"block text-sm font-medium text-gray-700",children:"Alamat Lengkap *"}),e.jsx("textarea",{id:"alamat",name:"alamat",value:n.alamat,onChange:s,required:!0,rows:3,className:`mt-1 block w-full rounded-lg border px-3 py-2 shadow-sm focus:outline-none focus:ring-2 ${a.alamat?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`,placeholder:"Alamat lengkap sesuai KTP"}),a.alamat&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.alamat})]})]})})]}),e.jsxs("div",{className:"rounded-lg bg-white shadow",children:[e.jsx("div",{className:"border-b border-gray-200 px-6 py-4",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Kontak & Pekerjaan"})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"nomor_ktp",className:"block text-sm font-medium text-gray-700",children:"Nomor KTP *"}),e.jsx("input",{type:"text",id:"nomor_ktp",name:"nomor_ktp",value:n.nomor_ktp,onChange:s,required:!0,maxLength:20,className:`mt-1 block w-full rounded-lg border px-3 py-2 shadow-sm focus:outline-none focus:ring-2 ${a.nomor_ktp?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`,placeholder:"Nomor Kartu Tanda Penduduk"}),a.nomor_ktp&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.nomor_ktp})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"nomor_wa",className:"block text-sm font-medium text-gray-700",children:"Nomor WhatsApp *"}),e.jsx("input",{type:"tel",id:"nomor_wa",name:"nomor_wa",value:n.nomor_wa,onChange:s,required:!0,className:`mt-1 block w-full rounded-lg border px-3 py-2 shadow-sm focus:outline-none focus:ring-2 ${a.nomor_wa?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`,placeholder:"08xxxxxxxxxx"}),a.nomor_wa&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.nomor_wa})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"pekerjaan",className:"block text-sm font-medium text-gray-700",children:"Pekerjaan *"}),e.jsx("input",{type:"text",id:"pekerjaan",name:"pekerjaan",value:n.pekerjaan,onChange:s,required:!0,className:`mt-1 block w-full rounded-lg border px-3 py-2 shadow-sm focus:outline-none focus:ring-2 ${a.pekerjaan?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`,placeholder:"Jenis pekerjaan"}),a.pekerjaan&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.pekerjaan})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"penghasilan_bulanan",className:"block text-sm font-medium text-gray-700",children:"Penghasilan Bulanan *"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"Rp"}),e.jsx("input",{type:"text",id:"penghasilan_bulanan",name:"penghasilan_bulanan",value:n.penghasilan_bulanan,onChange:j,required:!0,className:`block w-full rounded-lg border px-3 py-2 pl-10 shadow-sm focus:outline-none focus:ring-2 ${a.penghasilan_bulanan?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`,placeholder:"5,000,000"})]}),a.penghasilan_bulanan&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.penghasilan_bulanan})]})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(c,{href:"/nasabah",className:"rounded-lg border border-gray-300 bg-white px-6 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",children:"Batal"}),e.jsx("button",{type:"submit",disabled:t,className:`inline-flex items-center rounded-lg px-6 py-2 text-sm font-medium text-white shadow-sm ${t?"cursor-not-allowed bg-gray-400":"bg-blue-600 hover:bg-blue-700"}`,children:t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Menyimpan..."]}):e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"mr-2 h-4 w-4"}),"Simpan Nasabah"]})})]})]})]})})]})}export{B as default};
