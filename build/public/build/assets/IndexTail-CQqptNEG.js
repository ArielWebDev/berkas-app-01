import{r as d,j as e,Q as A,t as r,S as j}from"./app-DQ50vfdB.js";import{T as D,F as N}from"./TailLayout-CUFZkN9l.js";import{F}from"./PlusIcon-BOT5okp5.js";import{F as R}from"./MagnifyingGlassIcon-BUKtBMH4.js";import{F as T}from"./EyeIcon-DfYgRoOc.js";import{F as C,a as M}from"./TrashIcon-Cjx8d98D.js";import"./TechStackBackground-vFG2YikW.js";import"./index-CXCxKWl8.js";import"./XMarkIcon-iLJawDXb.js";import"./UsersIcon-Do4GODTd.js";import"./transition-B40-nL65.js";import"./dialog-B4S7MQxj.js";import"./with-selector-CC73ae-U.js";import"./index-OSMIWnHG.js";function O({users:a,search:y=""}){var x,m,o,h,p,g,f;const[n,u]=d.useState(y),[b,i]=d.useState(!1),[s,c]=d.useState(null),w=t=>{t.preventDefault(),j.get("/users",{search:n},{preserveState:!0})},v=t=>{c(t),i(!0)},k=()=>{s&&j.delete(`/users/${s.id}`,{onSuccess:()=>{i(!1),c(null)}})},S=t=>new Date(t).toLocaleDateString("id-ID"),_=t=>{const l={admin:"bg-red-100 text-red-800",staf_input:"bg-blue-100 text-blue-800",admin_kredit:"bg-green-100 text-green-800",analis:"bg-purple-100 text-purple-800",pemutus:"bg-yellow-100 text-yellow-800"},$={admin:"Admin",staf_input:"Staf Input",admin_kredit:"Admin Kredit",analis:"Analis",pemutus:"Pemutus"};return e.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${l[t]||"bg-gray-100 text-gray-800"}`,children:$[t]||t})};return e.jsxs(D,{children:[e.jsx(A,{title:"Manajemen Users"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Manajemen Users"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Kelola pengguna sistem aplikasi"})]}),e.jsxs(r,{href:"/users/create",className:"inline-flex items-center rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700",children:[e.jsx(F,{className:"mr-2 h-5 w-5"}),"Tambah User"]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("form",{onSubmit:w,className:"flex w-full max-w-md gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(R,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",value:n,onChange:t=>u(t.target.value),placeholder:"Cari nama, email, atau role...",className:"w-full rounded-lg border border-gray-300 py-2 pl-10 pr-4 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsx("button",{type:"submit",className:"rounded-lg bg-gray-100 px-4 py-2 text-gray-700 hover:bg-gray-200",children:"Cari"})]})}),e.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-4 sm:grid-cols-4",children:[e.jsx("div",{className:"rounded-lg bg-white p-6 shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(N,{className:"h-8 w-8 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Users"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((x=a==null?void 0:a.meta)==null?void 0:x.total)||0})]})]})}),e.jsx("div",{className:"rounded-lg bg-white p-6 shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-red-100",children:e.jsx("span",{className:"text-sm font-semibold text-red-600",children:"A"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Admin"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((o=(m=a==null?void 0:a.data)==null?void 0:m.filter(t=>t.role==="admin"))==null?void 0:o.length)||0})]})]})}),e.jsx("div",{className:"rounded-lg bg-white p-6 shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-blue-100",children:e.jsx("span",{className:"text-sm font-semibold text-blue-600",children:"S"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Staf"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((p=(h=a==null?void 0:a.data)==null?void 0:h.filter(t=>t.role!=="admin"))==null?void 0:p.length)||0})]})]})}),e.jsx("div",{className:"rounded-lg bg-white p-6 shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-green-100",children:e.jsx("span",{className:"text-sm font-semibold text-green-600",children:"A"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Aktif"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((g=a==null?void 0:a.data)==null?void 0:g.length)||0})]})]})})]}),e.jsx("div",{className:"overflow-hidden rounded-lg bg-white shadow",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"No. WhatsApp"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Tanggal Daftar"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500",children:"Aksi"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:a!=null&&a.data&&a.data.length>0?a.data.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gray-300",children:e.jsx(N,{className:"h-6 w-6 text-gray-600"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",t.id]})]})]})}),e.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-900",children:t.email}),e.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:_(t.role)}),e.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-900",children:t.nomor_wa||"-"}),e.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-500",children:S(t.created_at)}),e.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium",children:e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(r,{href:`/users/${t.id}`,className:"text-blue-600 hover:text-blue-900",children:e.jsx(T,{className:"h-5 w-5"})}),e.jsx(r,{href:`/users/${t.id}/edit`,className:"text-indigo-600 hover:text-indigo-900",children:e.jsx(C,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>v(t),className:"text-red-600 hover:text-red-900",children:e.jsx(M,{className:"h-5 w-5"})})]})})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-sm text-gray-500",children:"Belum ada data user"})})})]})})}),((f=a==null?void 0:a.meta)==null?void 0:f.last_page)>1&&e.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Menampilkan"," ",(a.meta.current_page-1)*a.meta.per_page+1," -"," ",Math.min(a.meta.current_page*a.meta.per_page,a.meta.total)," ","dari ",a.meta.total," data"]}),e.jsx("div",{className:"flex space-x-1",children:a.links.map((t,l)=>e.jsx(r,{href:t.url||"#",className:`px-3 py-2 text-sm ${t.active?"bg-blue-600 text-white":"bg-white text-gray-500 hover:bg-gray-100"} border border-gray-300 ${l===0?"rounded-l-lg":""} ${l===a.links.length-1?"rounded-r-lg":""}`,dangerouslySetInnerHTML:{__html:t.label}},l))})]})]}),b&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxs("div",{className:"w-full max-w-md rounded-lg bg-white p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Hapus User"}),e.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Apakah Anda yakin ingin menghapus user"," ",e.jsx("strong",{children:s==null?void 0:s.name}),"? Tindakan ini tidak dapat dibatalkan."]}),e.jsxs("div",{className:"mt-4 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>i(!1),className:"rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Batal"}),e.jsx("button",{onClick:k,className:"rounded-lg bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700",children:"Hapus"})]})]})})]})}export{O as default};
