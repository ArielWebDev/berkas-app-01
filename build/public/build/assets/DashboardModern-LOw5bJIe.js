import{r as o,j as e,Q as k,t as l}from"./app-DQ50vfdB.js";import{F as p}from"./DocumentTextIcon-WQjWO2mO.js";import{F as D}from"./UsersIcon-Do4GODTd.js";import{F as $}from"./ClockIcon-Bw5Yb6Dk.js";import{F as C}from"./CheckCircleIcon-DZlEFXlT.js";import{F as R}from"./ArrowTrendingUpIcon-IC-CdDr5.js";import{R as h,A as F,X as S,Y as A,T as b,a as u,P as _,b as P,C as T}from"./AreaChart-iNG7SsyB.js";import{F as L}from"./PlusIcon-BOT5okp5.js";import{F as O}from"./UserGroupIcon-DgQZhbnI.js";import"./index-OSMIWnHG.js";import"./index-epZWharM.js";import"./with-selector-CC73ae-U.js";const M=[{month:"Jan",pinjaman:15,approved:12,rejected:3},{month:"Feb",pinjaman:22,approved:18,rejected:4},{month:"Mar",pinjaman:18,approved:15,rejected:3},{month:"Apr",pinjaman:25,approved:20,rejected:5},{month:"May",pinjaman:30,approved:25,rejected:5},{month:"Jun",pinjaman:28,approved:23,rejected:5}],i=["#8b5cf6","#06b6d4","#10b981","#f59e0b","#ef4444"];function q({auth:d,statistics:r,recent_pinjaman:j,workflow_overview:f,recent_activity:g}){const[s,v]=o.useState(!1),[U,c]=o.useState(null);o.useEffect(()=>{const t=setTimeout(()=>v(!0),100);return()=>clearTimeout(t)},[]);const y=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),x=t=>new Date(t).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),n=Object.entries(f.all_status).map(([t,a])=>({name:t.replace("_"," ").toUpperCase(),value:a})),N=[{title:"Total Pinjaman",value:r.total_pinjaman,icon:p,color:"from-purple-500 to-purple-600",trend:"+12%",trendUp:!0},{title:"Total Nasabah",value:r.total_nasabah,icon:D,color:"from-blue-500 to-blue-600",trend:"+8%",trendUp:!0},{title:"Pending Review",value:r.pinjaman_pending,icon:$,color:"from-yellow-500 to-yellow-600",trend:"-5%",trendUp:!1},{title:"Disetujui",value:r.pinjaman_approved,icon:C,color:"from-green-500 to-green-600",trend:"+15%",trendUp:!0}],w=t=>{const m={diajukan:{bg:"bg-blue-100 text-blue-800",text:"text-blue-800",label:"Diajukan"},diperiksa:{bg:"bg-yellow-100 text-yellow-800",text:"text-yellow-800",label:"Diperiksa"},dikembalikan:{bg:"bg-red-100 text-red-800",text:"text-red-800",label:"Dikembalikan"},dianalisis:{bg:"bg-purple-100 text-purple-800",text:"text-purple-800",label:"Dianalisis"},siap_diputuskan:{bg:"bg-indigo-100 text-indigo-800",text:"text-indigo-800",label:"Siap Diputuskan"},disetujui:{bg:"bg-green-100 text-green-800",text:"text-green-800",label:"Disetujui"},ditolak:{bg:"bg-red-100 text-red-800",text:"text-red-800",label:"Ditolak"}}[t]||{bg:"bg-gray-100 text-gray-800",label:t};return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m.bg}`,children:m.label})};return e.jsxs(e.Fragment,{children:[e.jsx(k,{title:"Dashboard - Berkas App"}),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-900/20 via-transparent to-blue-900/20"}),e.jsx("div",{className:"absolute inset-0 opacity-10",children:e.jsx("div",{className:"h-full w-full",style:{backgroundImage:"radial-gradient(circle at 2px 2px, rgba(255,255,255,0.15) 1px, transparent 0)",backgroundSize:"60px 60px"}})})]}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:`p-6 transition-all duration-700 ${s?"translate-y-0 opacity-100":"-translate-y-4 opacity-0"}`,children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Dashboard"}),e.jsxs("p",{className:"text-slate-300 text-lg",children:["Selamat datang kembali, ",e.jsx("span",{className:"text-purple-400 font-semibold",children:d.user.name}),"! Kelola berkas pinjaman dengan mudah dan efisien."]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:N.map((t,a)=>e.jsx("div",{className:`group relative transition-all duration-500 delay-${a*100} ${s?"translate-y-0 opacity-100":"translate-y-8 opacity-0"}`,onMouseEnter:()=>c(a),onMouseLeave:()=>c(null),children:e.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-white/10 bg-white/5 p-6 backdrop-blur-xl transition-all duration-300 hover:bg-white/10 hover:border-white/20 hover:shadow-2xl hover:-translate-y-1",children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${t.color} opacity-10 transition-opacity duration-300 group-hover:opacity-20`}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-r ${t.color} shadow-lg`,children:e.jsx(t.icon,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:`flex items-center space-x-1 text-sm ${t.trendUp?"text-green-400":"text-red-400"}`,children:[e.jsx(R,{className:`h-4 w-4 ${!t.trendUp&&"rotate-180"}`}),e.jsx("span",{className:"font-medium",children:t.trend})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 text-sm font-medium mb-1",children:t.title}),e.jsx("p",{className:"text-3xl font-bold text-white",children:typeof t.value=="number"?t.value.toLocaleString("id-ID"):t.value})]})]})]})},a))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsx("div",{className:`transition-all duration-700 delay-300 ${s?"translate-y-0 opacity-100":"translate-y-8 opacity-0"}`,children:e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 backdrop-blur-xl",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Tren Pinjaman Bulanan"}),e.jsx("p",{className:"text-slate-400",children:"Perbandingan pinjaman yang disetujui vs ditolak"})]}),e.jsx("div",{className:"h-80",children:e.jsx(h,{width:"100%",height:"100%",children:e.jsxs(F,{data:M,children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"colorApproved",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]}),e.jsxs("linearGradient",{id:"colorRejected",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:0})]})]}),e.jsx(S,{dataKey:"month",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),e.jsx(A,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),e.jsx(b,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.9)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",color:"#ffffff"}}),e.jsx(u,{type:"monotone",dataKey:"approved",stroke:"#10b981",strokeWidth:2,fillOpacity:1,fill:"url(#colorApproved)",name:"Disetujui"}),e.jsx(u,{type:"monotone",dataKey:"rejected",stroke:"#ef4444",strokeWidth:2,fillOpacity:1,fill:"url(#colorRejected)",name:"Ditolak"})]})})})]})}),e.jsx("div",{className:`transition-all duration-700 delay-400 ${s?"translate-y-0 opacity-100":"translate-y-8 opacity-0"}`,children:e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 backdrop-blur-xl",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Distribusi Status Pinjaman"}),e.jsx("p",{className:"text-slate-400",children:"Breakdown status pinjaman saat ini"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"h-64",children:e.jsx(h,{width:"100%",height:"100%",children:e.jsxs(_,{children:[e.jsx(P,{data:n,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:n.map((t,a)=>e.jsx(T,{fill:i[a%i.length]},`cell-${a}`))}),e.jsx(b,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.9)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",color:"#ffffff"}})]})})}),e.jsx("div",{className:"space-y-3",children:n.map((t,a)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:i[a%i.length]}}),e.jsx("span",{className:"text-slate-300 text-sm flex-1",children:t.name}),e.jsx("span",{className:"text-white font-semibold",children:t.value})]},a))})]})]})})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:`transition-all duration-700 delay-500 ${s?"translate-y-0 opacity-100":"translate-y-8 opacity-0"}`,children:e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 backdrop-blur-xl",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-4",children:[d.user.role==="staf_input"&&e.jsx(l,{href:"/pinjaman/create/wizard",className:"group block w-full rounded-xl bg-gradient-to-r from-purple-600 to-blue-600 p-4 text-center transition-all duration-300 hover:from-purple-700 hover:to-blue-700 hover:shadow-xl hover:-translate-y-0.5",children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(L,{className:"h-5 w-5 text-white"}),e.jsx("span",{className:"font-semibold text-white",children:"Tambah Pinjaman Baru"})]})}),e.jsx(l,{href:"/pinjaman",className:"group block w-full rounded-xl border border-white/20 bg-white/5 p-4 text-center transition-all duration-300 hover:bg-white/10 hover:border-white/30",children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(p,{className:"h-5 w-5 text-slate-300"}),e.jsx("span",{className:"font-medium text-slate-300",children:"Lihat Semua Pinjaman"})]})}),e.jsx(l,{href:"/nasabah",className:"group block w-full rounded-xl border border-white/20 bg-white/5 p-4 text-center transition-all duration-300 hover:bg-white/10 hover:border-white/30",children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(O,{className:"h-5 w-5 text-slate-300"}),e.jsx("span",{className:"font-medium text-slate-300",children:"Kelola Nasabah"})]})})]})]})}),e.jsx("div",{className:`transition-all duration-700 delay-600 ${s?"translate-y-0 opacity-100":"translate-y-8 opacity-0"}`,children:e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 backdrop-blur-xl",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Pinjaman Terbaru"}),e.jsx("div",{className:"space-y-4",children:j.slice(0,5).map(t=>e.jsxs(l,{href:`/pinjaman/${t.id}`,className:"group block rounded-xl border border-white/10 bg-white/5 p-4 transition-all duration-300 hover:bg-white/10 hover:border-white/20",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h4",{className:"font-semibold text-white text-sm group-hover:text-purple-300 transition-colors",children:t.nasabah.nama_lengkap}),w(t.status)]}),e.jsx("p",{className:"text-slate-300 text-sm mb-1",children:y(t.jumlah_pinjaman)}),e.jsx("p",{className:"text-slate-500 text-xs",children:x(t.created_at)})]},t.id))})]})}),e.jsx("div",{className:`transition-all duration-700 delay-700 ${s?"translate-y-0 opacity-100":"translate-y-8 opacity-0"}`,children:e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 backdrop-blur-xl",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Aktivitas Terbaru"}),e.jsx("div",{className:"space-y-4",children:g.slice(0,5).map(t=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-gradient-to-r from-purple-600 to-blue-600 text-white text-sm font-semibold",children:t.user.name.charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-slate-300 text-sm",children:t.description}),e.jsxs("p",{className:"text-slate-500 text-xs",children:[t.user.name," • ",x(t.created_at)]})]})]},t.id))})]})})]})]})]})})]})]})}export{q as default};
